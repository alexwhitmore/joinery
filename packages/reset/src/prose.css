/**
 * Joinery Prose Defaults
 * 
 * THE CORE PHILOSOPHY: Everything is readable by default.
 * Opt OUT for UI chrome, not IN for readable text.
 * 
 * This applies sensible typography and spacing to all elements,
 * making the web readable without any additional classes.
 * 
 * Based on Every Layout's Axioms: use exception-based styling.
 * Apply broadly, exclude containers.
 */

* {
  max-inline-size: var(--joinery-measure, 65ch);
}

html,
body,
div,
section,
article,
aside,
header,
footer,
nav,
main,
form,
fieldset,
figure,
figcaption,
details,
summary,
dialog,
template,
/* Layout elements */
[class*='stack'],
[class*='cluster'],
[class*='grid'],
[class*='center'],
[class*='sidebar'],
[class*='switcher'],
[class*='cover'],
[class*='frame'],
[class*='reel'],
[class*='box'],
[class*='surface'],
/* Common container patterns */
[class*='container'],
[class*='wrapper'],
[class*='layout'] {
  max-inline-size: none;
}

p,
h1,
h2,
h3,
h4,
h5,
h6,
ul,
ol,
dl,
blockquote,
pre,
figure,
table,
hr {
  margin-block-start: var(--joinery-space-related, 0.75rem);
}

:is(p, h1, h2, h3, h4, h5, h6, ul, ol, dl, blockquote, pre, figure, table):first-child {
  margin-block-start: 0;
}

:is(h1, h2, h3, h4, h5, h6) {
  margin-block-start: var(--joinery-space-distinct, 1.5rem);
}

:is(h1, h2, h3, h4, h5, h6) + * {
  margin-block-start: var(--joinery-space-related, 0.75rem);
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-size: var(--joinery-text-base, 1rem);
  line-height: var(--joinery-leading-normal, 1.5);
  color: var(--foreground, #1a1a1a);
  background-color: var(--background, #ffffff);
}

h1 {
  font-size: var(--joinery-text-4xl, clamp(2.25rem, 1.75rem + 2.5vw, 3.5rem));
  line-height: var(--joinery-leading-tight, 1.2);
  letter-spacing: var(--joinery-tracking-tight, -0.015em);
  font-weight: var(--joinery-weight-bold, 700);
}

h2 {
  font-size: var(--joinery-text-3xl, clamp(1.875rem, 1.55rem + 1.625vw, 2.5rem));
  line-height: var(--joinery-leading-tight, 1.2);
  letter-spacing: var(--joinery-tracking-tight, -0.015em);
  font-weight: var(--joinery-weight-bold, 700);
}

h3 {
  font-size: var(--joinery-text-2xl, clamp(1.5rem, 1.3rem + 1vw, 2rem));
  line-height: var(--joinery-leading-snug, 1.35);
  font-weight: var(--joinery-weight-semibold, 600);
}

h4 {
  font-size: var(--joinery-text-xl, clamp(1.25rem, 1.15rem + 0.5vw, 1.5rem));
  line-height: var(--joinery-leading-snug, 1.35);
  font-weight: var(--joinery-weight-semibold, 600);
}

h5 {
  font-size: var(--joinery-text-lg, clamp(1.125rem, 1.05rem + 0.375vw, 1.25rem));
  line-height: var(--joinery-leading-normal, 1.5);
  font-weight: var(--joinery-weight-semibold, 600);
}

h6 {
  font-size: var(--joinery-text-base, 1rem);
  line-height: var(--joinery-leading-normal, 1.5);
  font-weight: var(--joinery-weight-semibold, 600);
}

p.lead,
.lead > p:first-child {
  font-size: var(--joinery-text-lg, 1.125rem);
  line-height: var(--joinery-leading-relaxed, 1.65);
}

small,
.small {
  font-size: var(--joinery-text-sm, 0.875rem);
}

strong,
b {
  font-weight: var(--joinery-weight-semibold, 600);
}

a {
  color: var(--primary, #2563eb);
  text-decoration: underline;
  text-underline-offset: 0.15em;
  transition: color 0.15s ease;
}

a:hover {
  color: var(--primary-foreground, #1d4ed8);
}

a:has(> img),
a:has(> picture),
a:has(> figure) {
  text-decoration: none;
}

ul,
ol {
  padding-inline-start: 1.5em;
}

li {
  margin-block-start: var(--joinery-space-tight, 0.25rem);
}

li:first-child {
  margin-block-start: 0;
}

ul ul,
ul ol,
ol ul,
ol ol {
  margin-block-start: var(--joinery-space-tight, 0.25rem);
}

dt {
  font-weight: var(--joinery-weight-semibold, 600);
  margin-block-start: var(--joinery-space-related, 0.75rem);
}

dt:first-child {
  margin-block-start: 0;
}

dd {
  margin-inline-start: 1.5em;
}

blockquote {
  padding-inline-start: var(--joinery-space-related, 0.75rem);
  border-inline-start: 3px solid var(--muted, #e5e5e5);
  font-style: italic;
}

blockquote > * + * {
  margin-block-start: var(--joinery-space-related, 0.75rem);
}

code,
kbd,
samp,
pre {
  font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
  font-size: 0.9em;
}

:not(pre) > code {
  padding: 0.125em 0.25em;
  background-color: var(--muted, #f5f5f5);
  border-radius: var(--joinery-radius-subtle, 0.25rem);
}

pre {
  padding: var(--joinery-space-related, 0.75rem);
  background-color: var(--muted, #f5f5f5);
  border-radius: var(--joinery-radius-rounded, 0.5rem);
  overflow-x: auto;
  tab-size: 2;
}

pre code {
  padding: 0;
  background: none;
  font-size: inherit;
}

table {
  width: 100%;
  text-align: start;
}

th,
td {
  padding: var(--joinery-space-tight, 0.25rem) var(--joinery-space-related, 0.75rem);
  border-bottom: 1px solid var(--muted, #e5e5e5);
}

th {
  font-weight: var(--joinery-weight-semibold, 600);
  text-align: inherit;
}

figure {
  display: flex;
  flex-direction: column;
  gap: var(--joinery-space-tight, 0.25rem);
}

figcaption {
  font-size: var(--joinery-text-sm, 0.875rem);
  color: var(--muted-foreground, #737373);
}

hr {
  margin-block: var(--joinery-space-section, 3rem);
  border-color: var(--muted, #e5e5e5);
}
